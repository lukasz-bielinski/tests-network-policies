apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  annotations:
    network-policy.permission-binder.io/template: allow-prometheus-metrics.yaml
    network-policy.permission-binder.io/template-path: networkpolicies/templates/allow-prometheus-metrics.yaml
    network-policy.permission-binder.io/template-version: HEAD
  name: test-app-allow-prometheus-metrics
  namespace: test-app
spec:
  ingress:
  - from:
    - namespaceSelector:
        matchLabels:
          name: openshift-monitoring
    - namespaceSelector:
        matchLabels:
          name: openshift-user-workload-monitoring
  podSelector: {}
  policyTypes:
  - Ingress
